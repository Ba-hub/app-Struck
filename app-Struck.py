# Coded By ~ Ghosthub
# Script ~ app-Struck

import base64
exec(base64.b64decode('IyEvdXNyL2Jpbi9lbnYgcHl0aG9uCgoKaW1wb3J0IHhtbC5zYXgKaW1wb3J0IHN5cwppbXBvcnQgb3MKaW1wb3J0IHJlCgpjbGFzcyBNYW5pZmVzdFJlYWRlcih4bWwuc2F4LkNvbnRlbnRIYW5kbGVyKToKICAgIyBDb250cm9sIFZhcmlhYmxlcwogICBpc0FjdGl2aXR5T3Blbj1GYWxzZTsKICAgY3VycmVudEFjdGl2aXR5TmFtZT0iIjsKICAgbGF1bmNoZXJBY3Rpdml0eT0iIgoKICAgIyBOdW1iZXIgb2YgQ2xhc3NlcyBWYXJpYWJsZXMKICAgbnVtYmVyT2ZBY3Rpdml0aWVzPTAKICAgbnVtYmVyT2ZSZWNlaXZlcnM9MAogICBudW1iZXJPZlNlcnZpY2VzPTAKICAgbnVtYmVyT2ZQcm92aWRlcnM9MAogICBudW1iZXJPZkFjdGl2aXR5QWxpYXNlcz0wCiAgIG51bWJlck9mUGVybWlzc2lvbnNSZXF1ZXN0ZWQ9MAogICBudW1iZXJPZlBvc3NpYmxlRG9tYWlucz0wCiAgIG51bWJlck9mUG9zc2libGVJUHM9MAoKICAgIyBGaWxlIGFuZCBSZXBvcnQgVmFyaWFibGVzCiAgIHJlcG9ydCA9ICIiCiAgIGFwa2ZpbGVuYW1lPSIiCiAgIGRlY29kZWRGb2xkZXJMb2NhdGlvbiA9ICIiCiAgIG1hbmlmZXN0bG9jYXRpb24gPSAiIgoKICAgIyBBcnJheXMgZm9yIHN0b3JpbmcgbmFtZXMgb2YgaW1wb3J0YW50IGNsYXNzZXMKICAgYWN0aXZpdHlOYW1lcz1bJyddCiAgIHNlcnZpY2VOYW1lcz1bJyddCiAgIHByb3ZpZGVyTmFtZXM9WycnXQogICByZWNlaXZlck5hbWVzPVsnJ10KICAgYWN0aXZpdHlhbGlhc25hbWVzPVsnJ10KICAgcGVybWlzc2lvbk5hbWVzPVsnJ10KCiAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgIyBUcmFjayBGaWxlIGFuZCBGb2xkZXIgTmFtZXMKICAgICAgc2VsZi5hcGtmaWxlbmFtZSA9ICIiCiAgICAgIHNlbGYuZGVjb2RlZEZvbGRlckxvY2F0aW9uID0gIiIKCiAgICAgICMgQ2hlY2sgVGhlIFN0YXRlIE9mIFRoZSBBY3Rpdml0eSBFbGVtZW50CiAgICAgIHNlbGYuaXNBY3Rpdml0eU9wZW49RmFsc2U7CgogICAgICAjIFRyYWNrIHRoZSBMYXVuY2hlciBBY3Rpdml0eQogICAgICBzZWxmLmN1cnJlbnRBY3Rpdml0eU5hbWU9IiIKICAgICAgc2VsZi5sYXVuY2hlckFjdGl2aXR5PSIiCiAgICAgIHNlbGYubWFuaWZlc3Rsb2NhdGlvbiA9ICIiCgogICAgICAjIFRyYWNrIHRoZSBudW1iZXIgb2YgaW1wb3J0YW50IGNsYXNzZXMKICAgICAgc2VsZi5udW1iZXJPZkFjdGl2aXRpZXM9MAogICAgICBzZWxmLm51bWJlck9mUmVjZWl2ZXJzPTAKICAgICAgc2VsZi5udW1iZXJPZlNlcnZpY2VzPTAKICAgICAgc2VsZi5udW1iZXJPZlByb3ZpZGVycz0wCiAgICAgIHNlbGYubnVtYmVyT2ZBY3Rpdml0eUFsaWFzZXM9MAogICAgICBzZWxmLm51bWJlck9mUGVybWlzc2lvbnNSZXF1ZXN0ZWQ9MAogICAgICBzZWxmLm51bWJlck9mUG9zc2libGVEb21haW5zPTAKICAgICAgc2VsZi5udW1iZXJPZlBvc3NpYmxlSVBzPTAKCiAgICAgICMgVHJhY2sgVGhlIE5hbWVzIE9mIEltcG9ydGFudCBDbGFzc2VzIGluIEFycmF5cwogICAgICBzZWxmLmFjdGl2aXR5TmFtZXMgPSBbJyddCiAgICAgIHNlbGYuc2VydmljZU5hbWVzPVsnJ10KICAgICAgc2VsZi5wcm92aWRlck5hbWVzPVsnJ10KICAgICAgc2VsZi5yZWNlaXZlck5hbWVzPVsnJ10KICAgICAgc2VsZi5hY3Rpdml0eUFsaWFzTmFtZXM9WycnXQogICAgICBzZWxmLnBlcm1pc3Npb25OYW1lcz1bJyddCgogICAgICAjIENyZWF0ZSBBIFJlcG9ydCBGaWxlIE9iamVjdCBUbyBXcml0ZSBPdXRwdXQgVG8KICAgICAgc2VsZi5yZXBvcnQgPSBvcGVuKCJyZXBvcnQudHh0IiwgImEiKQoKICAgIyBDYWxsIHdoZW4gYW4gZWxlbWVudCBzdGFydHMKICAgZGVmIHN0YXJ0RWxlbWVudChzZWxmLCB0YWcsIGF0dHJpYnV0ZXMpOgogICAgICBzZWxmLkN1cnJlbnREYXRhID0gdGFnCgogICAgICAjIElmIEluIEFuZHJvaWQgTWFuaWZlc3QgSW5jcmVtZW50IENvdW50ZXIKICAgICAgaWYgKHRhZyA9PSAiYWN0aXZpdHkiKToKICAgICAgICAgIHNlbGYuaXNBY3Rpdml0eU9wZW49VHJ1ZQogICAgICAgICAgc2VsZi5udW1iZXJPZkFjdGl2aXRpZXMgPSBzZWxmLm51bWJlck9mQWN0aXZpdGllcyArIDEKCiAgICAgIGlmICh0YWcgPT0gInJlY2VpdmVyIik6CiAgICAgICAgICBzZWxmLm51bWJlck9mUmVjZWl2ZXJzID0gc2VsZi5udW1iZXJPZlJlY2VpdmVycyArIDEKCiAgICAgIGlmICh0YWcgPT0gInNlcnZpY2UiKToKICAgICAgICAgIHNlbGYubnVtYmVyT2ZTZXJ2aWNlcyA9IHNlbGYubnVtYmVyT2ZTZXJ2aWNlcyArIDEKCiAgICAgIGlmICh0YWcgPT0gInByb3ZpZGVyIik6CiAgICAgICAgICBzZWxmLm51bWJlck9mUHJvdmlkZXJzID0gc2VsZi5udW1iZXJPZlByb3ZpZGVycyArIDEKCiAgICAgIGlmICh0YWcgPT0gImFjdGl2aXR5LWFsaWFzIik6CiAgICAgICAgICBzZWxmLm51bWJlck9mQWN0aXZpdHlBbGlhc2VzID0gc2VsZi5udW1iZXJPZkFjdGl2aXR5QWxpYXNlcyArIDEKCiAgICAgIGlmICh0YWcgPT0gInVzZXMtcGVybWlzc2lvbiIpOgoJICBzZWxmLm51bWJlck9mUGVybWlzc2lvbnNSZXF1ZXN0ZWQgPSBzZWxmLm51bWJlck9mUGVybWlzc2lvbnNSZXF1ZXN0ZWQgKyAxCgogICAgICB0cnk6CiAgICAgICAgICAjIElmIE5hbWUgaXMgQXZhaWxhYmxlIEFkZCBUbyBBcnJheQogICAgICAgICAgaWYoYXR0cmlidXRlc1siYW5kcm9pZDpuYW1lIl0gIT0gIiIpOgoJICAgICAgaWYgKHRhZz09ImFjdGl2aXR5Iik6IAoJICAgICAgICAgIHNlbGYuY3VycmVudEFjdGl2aXR5TmFtZT0gYXR0cmlidXRlc1siYW5kcm9pZDpuYW1lIl0KICAgICAgICAgICAgICAgICAgc2VsZi5hY3Rpdml0eU5hbWVzLmFwcGVuZChhdHRyaWJ1dGVzWyJhbmRyb2lkOm5hbWUiXSkKICAgICAgICAgICAgICBlbGlmICh0YWc9PSJzZXJ2aWNlIik6CgkJICBzZWxmLnNlcnZpY2VOYW1lcy5hcHBlbmQoYXR0cmlidXRlc1siYW5kcm9pZDpuYW1lIl0pCgkgICAgICBlbGlmICh0YWc9PSJyZWNlaXZlciIpOgogICAgICAgICAgICAgICAgICBzZWxmLnJlY2VpdmVyTmFtZXMuYXBwZW5kKGF0dHJpYnV0ZXNbImFuZHJvaWQ6bmFtZSJdKQogICAgICAgICAgICAgIGVsaWYgKHRhZz09InByb3ZpZGVyIik6CiAgICAgICAgICAgICAgICAgIHNlbGYucHJvdmlkZXJOYW1lcy5hcHBlbmQoYXR0cmlidXRlc1siYW5kcm9pZDpuYW1lIl0pCiAgICAgICAgICAgICAgZWxpZiAodGFnPT0iYWN0aXZpdHktYWxpYXMiKToKCQkgIHNlbGYuYWN0aXZpdHlBbGlhc05hbWVzLmFwcGVuZChhdHRyaWJ1dGVzWyJhbmRyb2lkOm5hbWUiXSkKICAgICAgICAgICAgICBlbGlmICh0YWc9PSJ1c2VzLXBlcm1pc3Npb24iKToKICAgICAgICAgICAgICAgICAgc2VsZi5wZXJtaXNzaW9uTmFtZXMuYXBwZW5kKGF0dHJpYnV0ZXNbImFuZHJvaWQ6bmFtZSJdKQogICAgICBleGNlcHQ6CgkgIHByaW50ICIiCgogICAgICBpZiAodGFnID09ICJhY3Rpb24iKToKICAgICAgICAgICMgQ2hlY2sgSWYgQW4gQWN0aXZpdHkgSXMgT3BlbgogICAgICAgICAgaWYgKHNlbGYuaXNBY3Rpdml0eU9wZW4pOgogICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICMgSWYgd2l0aGluIGFuIEFjdGl2aXR5IGFuZCBpcyB0aGUgTWFpbiB3ZSBoYXZlIHRoZSBMYXVuY2hlcgoJICAgICAgICAgaWYgKGF0dHJpYnV0ZXNbImFuZHJvaWQ6bmFtZSJdPT0iYW5kcm9pZC5pbnRlbnQuYWN0aW9uLk1BSU4iKToKCQkgICAgIHNlbGYubGF1bmNoZXJBY3Rpdml0eSA9IHNlbGYuY3VycmVudEFjdGl2aXR5TmFtZQogICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgICBwcmludCAiIgoKICAgIyBDYWxsIHdoZW4gYW4gZWxlbWVudHMgZW5kcwogICBkZWYgZW5kRWxlbWVudChzZWxmLCB0YWcpOgogICAgICAgICMgSWYgYW4gQWN0aXZpdHkgdGhlbiBjbG9zZSBpdAoJaWYgKHRhZyA9PSAiYWN0aXZpdHkiKToKCSAgICBzZWxmLmlzQWN0aXZpdHlPcGVuPUZhbHNlCgkgICAgY3VycmVudEFjdGl2aXR5TmFtZT0iIgoKICAgZGVmIEFQS1N0YXRfQ2xlYW51cChzZWxmKToKICAgICAgICBwcmludCAiWypdIFJlcG9ydC50eHQgQ3JlYXRlZCFcblxuIgogICAgICAgIHByaW50ICJbKl0gU2Nhbm5pbmcgRmlsZXMgRm9yIElQcy4gUGxlYXNlIFdhaXQuLi5cblxuIgoJc2VsZi5zY2FuRm9ySVBzKHNlbGYuZGVjb2RlZEZvbGRlckxvY2F0aW9uKQoKCXByaW50ICJbKl0gU2Nhbm5pbmcgRmlsZXMgRm9yIERvbWFpbnMuIFBsZWFzZSBXYWl0Li4uXG5cbiIKCXNlbGYuc2NhbkZvckRvbWFpbnMoc2VsZi5kZWNvZGVkRm9sZGVyTG9jYXRpb24pCgoJcHJpbnQgIlsqXSBGaW5pc2hpbmcuLi4iCgogICBkZWYgcHJpbnRTdGF0cyhzZWxmKToKICAgICAgICMgUHJpbnQgU3RhdHMgT24gU2NyZWVuIEF0IENvbXBsZXRpb24KICAgICAgIHByaW50ICJcblsxXSBPdmVyYWxsIFN0YXRzIFxuIgogICAgICAgcHJpbnQgIk51bWJlciBPZiBQZXJtaXNzaW9ucyBSZXF1ZXN0ZWQ6ICIgKyBzdHIoc2VsZi5udW1iZXJPZlBlcm1pc3Npb25zUmVxdWVzdGVkKQogICAgICAgcHJpbnQgIk51bWJlciBPZiBBY3Rpdml0aWVzOiAiICsgc3RyKHNlbGYubnVtYmVyT2ZBY3Rpdml0aWVzKQogICAgICAgcHJpbnQgIk51bWJlciBPZiBSZWNlaXZlcnM6ICIgKyBzdHIoc2VsZi5udW1iZXJPZlJlY2VpdmVycykKICAgICAgIHByaW50ICJOdW1iZXIgT2YgUHJvdmlkZXJzOiAiICsgc3RyKHNlbGYubnVtYmVyT2ZQcm92aWRlcnMpCiAgICAgICBwcmludCAiTnVtYmVyIE9mIFNlcnZpY2VzOiAiICsgc3RyKHNlbGYubnVtYmVyT2ZTZXJ2aWNlcykKICAgICAgIHByaW50ICJOdW1iZXIgT2YgQWN0aXZpdHkgQWxpYXNlczogIiArIHN0cihzZWxmLm51bWJlck9mQWN0aXZpdHlBbGlhc2VzKQogICAgICAgcHJpbnQgIiIKICAgICAgIHByaW50ICJOdW1iZXIgT2YgUG9zc2libGUgSVBzOiAiICsgc3RyKHNlbGYubnVtYmVyT2ZQb3NzaWJsZUlQcykKICAgICAgIHByaW50ICJOdW1iZXIgT2YgUG9zc2libGUgRG9tYWluczogIiArIHN0cihzZWxmLm51bWJlck9mUG9zc2libGVEb21haW5zKQogICAgICAgcHJpbnQgIiIKICAgICAgIHByaW50ICJbMl0gTGF1bmNoZXIgQWN0aXZpdHlcbiIKICAgICAgIHByaW50ICJMYXVuY2hlciBBY3Rpdml0eTogIiArIHNlbGYubGF1bmNoZXJBY3Rpdml0eQoKICAgZGVmIHdyaXRlQWN0aXZpdGllc1RvUmVwb3J0KHNlbGYpOgogICAgICAgIyBXcml0ZSBBY3Rpdml0eSBOYW1lcyBUbyBSZXBvcnQKICAgICAgIHNlbGYucmVwb3J0LndyaXRlKCJcblxuIE5hbWVzIE9mIEFjdGl2aXRpZXM6XG4iKQoKICAgICAgIGZvciBuYW1lIGluIHNlbGYuYWN0aXZpdHlOYW1lczoKICAgICAgICAgICBpZihuYW1lICE9ICIiKToKICAgICAgICAgICAgICAgc2VsZi5yZXBvcnQud3JpdGUobmFtZSArICJcbiIpCgogICBkZWYgd3JpdGVSZWNlaXZlcnNUb1JlcG9ydChzZWxmKToKICAgICAgICMgV3JpdGUgUmVjZWl2ZXIgTmFtZXMgVG8gUmVwb3J0CiAgICAgICBzZWxmLnJlcG9ydC53cml0ZSgiXG5cbiBOYW1lcyBPZiBSZWNlaXZlcnM6XG4iKQoKICAgICAgIGZvciBuYW1lIGluIHNlbGYucmVjZWl2ZXJOYW1lczoKICAgICAgICAgICBpZihuYW1lICE9ICIiKToKICAgICAgICAgICAgICAgc2VsZi5yZXBvcnQud3JpdGUobmFtZSArICJcbiIpCgogICBkZWYgd3JpdGVTZXJ2aWNlc1RvUmVwb3J0KHNlbGYpOgogICAgICAgIyBXcml0ZSBTZXJ2aWNlIE5hbWVzIFRvIFJlcG9ydAogICAgICAgc2VsZi5yZXBvcnQud3JpdGUoIlxuXG4gTmFtZXMgT2YgU2VydmljZXM6XG4iKQoKICAgICAgIGZvciBuYW1lIGluIHNlbGYuc2VydmljZU5hbWVzOgogICAgICAgICAgIGlmKG5hbWUgIT0gIiIpOgogICAgICAgICAgICAgICBzZWxmLnJlcG9ydC53cml0ZShuYW1lICsgIlxuIikKCiAgIGRlZiB3cml0ZVByb3ZpZGVyc1RvUmVwb3J0KHNlbGYpOgogICAgICAgIyBXcml0ZSBQcm92aWRlciBOYW1lcyBUbyBSZXBvcnQKICAgICAgIHNlbGYucmVwb3J0LndyaXRlKCJcblxuIE5hbWVzIE9mIFByb3ZpZGVyczpcbiIpCgogICAgICAgZm9yIG5hbWUgaW4gc2VsZi5wcm92aWRlck5hbWVzOgogICAgICAgICAgIGlmKG5hbWUgIT0gIiIpOgogICAgICAgICAgICAgICBzZWxmLnJlcG9ydC53cml0ZShuYW1lICsgIlxuIikKCiAgIGRlZiB3cml0ZUFjdGl2aXR5QWxpYXNlc1RvUmVwb3J0KHNlbGYpOgogICAgICAgIyBXcml0ZSBBY3Rpdml0eSBBbGlhc2VzIFRvIFJlcG9ydAogICAgICAgc2VsZi5yZXBvcnQud3JpdGUoIlxuXG4gTmFtZXMgT2YgQWN0aXZpdHkgQWxpYXNlczpcbiIpCgogICAgICAgZm9yIG5hbWUgaW4gc2VsZi5hY3Rpdml0eUFsaWFzTmFtZXM6CiAgICAgICAgICAgaWYobmFtZSAhPSAiIik6CiAgICAgICAgICAgICAgIHNlbGYucmVwb3J0LndyaXRlKG5hbWUgKyAiXG4iKQoKICAgZGVmIHdyaXRlUGVybWlzc2lvbnNUb1JlcG9ydChzZWxmKToKICAgICAgICMgV3JpdGUgUGVybWlzc2lvbiBSZXF1ZXN0cyB0byBSZXBvcnQKICAgICAgIHNlbGYucmVwb3J0LndyaXRlKCJcblxuIFBlcm1pc3Npb25zIFJlcXVlc3RlZDpcbiIpCgogICAgICAgZm9yIG5hbWUgaW4gc2VsZi5wZXJtaXNzaW9uTmFtZXM6CiAgICAgICAgICAgaWYobmFtZSAhPSAiIik6CiAgICAgICAgICAgICAgIHNlbGYucmVwb3J0LndyaXRlKG5hbWUgKyAiXG4iKQoKICAgZGVmIHdyaXRlUmVwb3J0KHNlbGYpOgogICAgICAgIyBXcml0ZSBTdGF0cyBUbyBSZXBvcnQKICAgICAgIHNlbGYucmVwb3J0LndyaXRlKCJcblxuTnVtYmVyIE9mIFBlcm1pc3Npb25zIFJlcXVlc3RlZDogIiArIHN0cihzZWxmLm51bWJlck9mUGVybWlzc2lvbnNSZXF1ZXN0ZWQpICsgIlxuIikKICAgICAgIHNlbGYucmVwb3J0LndyaXRlKCJOdW1iZXIgT2YgQWN0aXZpdGllczogIiArIHN0cihzZWxmLm51bWJlck9mQWN0aXZpdGllcykgKyAiXG4iKQogICAgICAgc2VsZi5yZXBvcnQud3JpdGUoIk51bWJlciBPZiBSZWNlaXZlcnM6ICIgKyBzdHIoc2VsZi5udW1iZXJPZlJlY2VpdmVycykgKyAiXG4iKQogICAgICAgc2VsZi5yZXBvcnQud3JpdGUoIk51bWJlciBPZiBQcm92aWRlcnM6ICIgKyBzdHIoc2VsZi5udW1iZXJPZlByb3ZpZGVycykgKyAiXG4iKQogICAgICAgc2VsZi5yZXBvcnQud3JpdGUoIk51bWJlciBPZiBTZXJ2aWNlczogIiArIHN0cihzZWxmLm51bWJlck9mU2VydmljZXMpICsgIlxuIikKICAgICAgIHNlbGYucmVwb3J0LndyaXRlKCJOdW1iZXIgT2YgQWN0aXZpdHkgQWxpYXNlczogIiArIHN0cihzZWxmLm51bWJlck9mQWN0aXZpdHlBbGlhc2VzKSArICJcbiIpCiAgICAgICBzZWxmLnJlcG9ydC53cml0ZSgiTnVtYmVyIE9mIFBvc3NpYmxlIERvbWFpbnM6ICIgKyBzdHIoc2VsZi5udW1iZXJPZlBvc3NpYmxlRG9tYWlucykgKyAiXG4iKQogICAgICAgc2VsZi5yZXBvcnQud3JpdGUoIk51bWJlciBPZiBQb3NzaWJsZSBJUHM6ICIgKyBzdHIoc2VsZi5udW1iZXJPZlBvc3NpYmxlSVBzKSArICJcblxuIikKICAgICAgIHNlbGYucmVwb3J0LndyaXRlKCJMYXVuY2hlciBBY3Rpdml0eTogIiArIHNlbGYubGF1bmNoZXJBY3Rpdml0eSArICJcblxuIikKICAgICAgIHNlbGYucmVwb3J0LmNsb3NlKCkKCiAgIGRlZiBzY2FuRm9ySVBzKHNlbGYsIGRpcmVjdG9yeSk6CgkgICBmb3IgbmFtZSBpbiBvcy5saXN0ZGlyKGRpcmVjdG9yeSk6CgkJICAgaWYgKG9zLnBhdGguaXNkaXIoZGlyZWN0b3J5ICsgIi8iICsgbmFtZSkpOgoJCSAgCSAgIHNlbGYuc2NhbkZvcklQcyhkaXJlY3RvcnkgKyAiLyIgKyBuYW1lKQoJCSAgIGVsc2U6CgkJCSAgIGlwYWRkcl9maWxlbmFtZSA9IG5hbWUucmVwbGFjZSgiJCIsICJfIikgKyAiLnR4dCIKCgkJCSAgIG9zLnN5c3RlbSgiZ3JlcCAtb0UgXCJcXGIoWzAtOV17MSwzfVxcLil7M31bMC05XXsxLDN9XFxiXCIgIiArIGRpcmVjdG9yeSArICIvIiArIG5hbWUgKyAiID4+ICIgKyBpcGFkZHJfZmlsZW5hbWUpCgkJIAkgICB0cnk6CgkgICAgICAgICAgICAgICAgICAgICAgIAkgICBncmVwcGVkRGF0YSA9IG9wZW4oaXBhZGRyX2ZpbGVuYW1lLCAicmIiKQoKCQkJCSAgIGZvciBzdHJpbmcgaW4gZ3JlcHBlZERhdGE6CgkJCQkJICAgaWYobGVuKHN0cmluZykgPiAwKToKICAgICAgICAgICAgICAgIAkJCSAgICAgICAgICAgZG9tYWluID0gb3BlbigicmVjb3ZlcmVkaXBzLnR4dCIsICJhIikKCQkJCQkJICAgZG9tYWluLndyaXRlKCJGaWxlOiAiICsgZGlyZWN0b3J5ICsgIi8iICsgbmFtZSArICIgSVA6ICIgKyBzdHJpbmcpCgkJCQkJCSAgIGRvbWFpbi5jbG9zZSgpCgkJCQkJCSAgIHNlbGYubnVtYmVyT2ZQb3NzaWJsZUlQcyA9IHNlbGYubnVtYmVyT2ZQb3NzaWJsZUlQcyArIDEKCgkJCQkgICBncmVwcGVkRGF0YS5jbG9zZSgpCgkJCQkgICBvcy5yZW1vdmUoaXBhZGRyX2ZpbGVuYW1lKQoJCQkgICBleGNlcHQ6CgkJCQkgICBwcmludCAiRVJST1I6ICIgKyBkaXJlY3RvcnkgKyAiLyIgKyBuYW1lICsgIiBDYW5ub3QgQmUgT3BlbmVkISIKCiAgIGRlZiBzY2FuRm9yRG9tYWlucyhzZWxmLCBkaXJlY3RvcnkpOgogICAgICAgICAgIGZvciBuYW1lIGluIG9zLmxpc3RkaXIoZGlyZWN0b3J5KToKICAgICAgICAgICAgICAgICAgIGlmIChvcy5wYXRoLmlzZGlyKGRpcmVjdG9yeSArICIvIiArIG5hbWUpKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zY2FuRm9yRG9tYWlucyhkaXJlY3RvcnkgKyAiLyIgKyBuYW1lKQogICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nhbm5lZEZpbGUgPSBvcGVuKGRpcmVjdG9yeSArICIvIiArIG5hbWUsICJyYiIpCgogICAgCQkJICAgZm9yIGxpbmUgaW4gc2Nhbm5lZEZpbGU6CgkJCQkgICBwb3NfZG9tYWluID0gcmUuZmluZGFsbCgnaHR0cFtzXT86Ly8oPzpbYS16QS1aXXxbMC05XXxbJC1fQC4mK118WyEqXChcKSxdfCg/OiVbMC05YS1mQS1GXVswLTlhLWZBLUZdKSkrJywgbGluZSkKCQkJCSAgIGlmIChsZW4ocG9zX2RvbWFpbikgPiAwKToKCQkJCQkgICBkb21haW5GaWxlID0gb3BlbigicmVjb3ZlcmVkZG9tYWlucy50eHQiLCAiYSIpCgkJCQkJICAgZm9yIHBvc2RvbSBpbiBwb3NfZG9tYWluOgoJCQkJCQkgICBpZiAoImFuZHJvaWQuY29tIiBub3QgaW4gcG9zZG9tKToKCQkJCQkJCSAgIGRvbWFpbkZpbGUud3JpdGUoIkxvY2F0aW9uOiAiICsgZGlyZWN0b3J5ICsgIi8iICArIG5hbWUgKyAiIC0gRG9tYWluOiAiICsgcG9zZG9tICsgIlxuXG4iKQoJCQkJCQkJICAgc2VsZi5udW1iZXJPZlBvc3NpYmxlRG9tYWlucyA9IHNlbGYubnVtYmVyT2ZQb3NzaWJsZURvbWFpbnMgKyAxCgoJCQkJCSAgIGRvbWFpbkZpbGUuY2xvc2UoKQoJCQkgICBzY2FubmVkRmlsZS5jbG9zZSgpCgoKICAgZGVmIGNyZWF0ZVN0cmluZ3NGaWxlKHNlbGYpOgogICAgICAgIyBDcmVhdGUgYSBTdHJpbmdzIEZpbGUgZnJvbSBBUEsKICAgICAgIG9zLnN5c3RlbSgic3RyaW5ncyAiICsgc2VsZi5hcGtmaWxlbmFtZSArICIgPj4gc3RyaW5ncy50eHQiKQogICAgICAgcHJpbnQgIlxuWypdIFN0cmluZ3MgRmlsZXMgQ3JlYXRlZDogc3RyaW5ncy50eHRcbiIKCiAgIGRlZiBvcGVuQVBLKHNlbGYpOgogICAgICAgICNzZXQgdGhlIGFwa2ZpbGVuYW1lIGFuZCBzdG9yYWdlIGRpcmVjdG9yeSBvZiBkZWNvbXByZXNzZWQgYXBrIGdsb2JhbGx5CiAgICAgICAgcHJpbnQgIlsqXSBEZWNvbXByZXNzaW5nIEFQSyBVc2luZyBBUEtUb29sXG4iCiAgICAgICAgdW56aXBfYXBrX3N0ciA9ICJhcGt0b29sIGQgIiArIHNlbGYuYXBrZmlsZW5hbWUKICAgICAgICBvcy5zeXN0ZW0odW56aXBfYXBrX3N0cikKCiAgICAgICAgIyBSZW1vdmUgdGhlIC5hcGsgZm9yIHRoZSB0cnVlIGZpbGVuYW1lCiAgICAgICAgc2VsZi5kZWNvZGVkRm9sZGVyTG9jYXRpb24gPSBzZWxmLmFwa2ZpbGVuYW1lWzA6LTRdCiAgICAgICAgc2VsZi5tYW5pZmVzdGxvY2F0aW9uID0gc2VsZi5kZWNvZGVkRm9sZGVyTG9jYXRpb24gKyAiL0FuZHJvaWRNYW5pZmVzdC54bWwiCgogICBkZWYgZ2V0TWFuaWZlc3RMb2NhdGlvbihzZWxmKToKICAgICAgICAjIFJldHVybiB0aGUgbG9jYXRpb24gdG8gdGhlIEFuZHJvaWRNYW5pZmVzdC54bWwKICAgICAgICByZXR1cm4gc2VsZi5tYW5pZmVzdGxvY2F0aW9uCgogICBkZWYgc2V0QVBLRmlsZW5hbWUoc2VsZiwgZmlsZW5hbWUpOgogICAgICAgICMgU2V0IHRoZSBBUEsgRmlsZW5hbWUKICAgICAgICBzZWxmLmFwa2ZpbGVuYW1lPWZpbGVuYW1lCgogICBkZWYgZGlzcGxheVVzYWdlKHNlbGYpOgogICAgICAgICMgRGlzcGxheSBVc2FnZSBJbmZvcm1hdGlvbgogICAgICAgIHByaW50ICJVc2FnZTogcHl0aG9uMiBhcHAtU3RydWNrLnB5IGFueUZpbGUuYXBrXG5cbiIKICAgICAgICBleGl0KCkKCgppZiAoIF9fbmFtZV9fID09ICJfX21haW5fXyIpOgoKICAgIyBjcmVhdGUgYW4gWE1MUmVhZGVyCiAgIHBhcnNlciA9IHhtbC5zYXgubWFrZV9wYXJzZXIoKQogICAjIHR1cm4gb2ZmIG5hbWVwc2FjZXMKICAgcGFyc2VyLnNldEZlYXR1cmUoeG1sLnNheC5oYW5kbGVyLmZlYXR1cmVfbmFtZXNwYWNlcywgMCkKCiAgICMgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgQ29udGV4dEhhbmRsZXIKICAgSGFuZGxlciA9IE1hbmlmZXN0UmVhZGVyKCkKCiAgICMgU2V0IFhNTCBQYXJzZXIKICAgcGFyc2VyLnNldENvbnRlbnRIYW5kbGVyKCBIYW5kbGVyICkKCiAgICMgSW50cm9kdWN0aW9uIEhlYWRlcgogICBwcmludCAiICAgICAgICAgICAgICAgIFxuXG5hcHAtU3RydWNrIC0gYnkgR2hvc3RodWIgKGh0dHA6Ly9pY29uaWNiYWJheS5tZWRpYW5ld3NvbmxpbmUuY29tKSBcblxuIgoKICAgIyBDaGVjayBpZiB0aGVyZSBpcyBhIGZpbGVuYW1lIGluIHRoZSBhcmd1bWVudAogICBpZiAobGVuKHN5cy5hcmd2KT09Mik6CiAgICAgICBIYW5kbGVyLnNldEFQS0ZpbGVuYW1lKHN0cihzeXMuYXJndlsxXSkpCiAgIGVsc2U6CiAgICAgICBIYW5kbGVyLmRpc3BsYXlVc2FnZSgpCgogICAjIE9wZW4gdGhlIEFQSyB1c2luZyBBUEtUb29sCiAgIEhhbmRsZXIub3BlbkFQSygpCgogICAjIFBhcnNlIHRoZSBBbmRyb2lkTWFuaWZlc3QueG1sCiAgIHBhcnNlci5wYXJzZShIYW5kbGVyLmdldE1hbmlmZXN0TG9jYXRpb24oKSkKCiAgICMgV3JpdGUgUmVwb3J0CiAgIEhhbmRsZXIud3JpdGVQZXJtaXNzaW9uc1RvUmVwb3J0KCkKICAgSGFuZGxlci53cml0ZUFjdGl2aXRpZXNUb1JlcG9ydCgpCiAgIEhhbmRsZXIud3JpdGVTZXJ2aWNlc1RvUmVwb3J0KCkKICAgSGFuZGxlci53cml0ZVJlY2VpdmVyc1RvUmVwb3J0KCkKICAgSGFuZGxlci53cml0ZVByb3ZpZGVyc1RvUmVwb3J0KCkKICAgSGFuZGxlci53cml0ZUFjdGl2aXR5QWxpYXNlc1RvUmVwb3J0KCkKCiAgICMgV3JpdGUgRG9tYWlucyBhbmQgSVBzIHRvIFJlcG9ydAogICBIYW5kbGVyLkFQS1N0YXRfQ2xlYW51cCgpCgogICAjIENyZWF0ZSBTdHJpbmdzIEZpbGUKICAgSGFuZGxlci5jcmVhdGVTdHJpbmdzRmlsZSgpCgogICAjIFdyaXRlIEZpbmFsIFJlcG9ydAogICBIYW5kbGVyLndyaXRlUmVwb3J0KCkKCiAgICMgRGlzcGxheSBGaW5hbCBEYXRhIE9uIFNjcmVlbgogICBIYW5kbGVyLnByaW50U3RhdHMoKQoK'))